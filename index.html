<!DOCTYPE html>
<html lang="ru">

<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>–ë–∞–∑–∞ –∑–Ω–∞–º–µ–Ω–∏—Ç–æ—Å—Ç–µ–π</title>
 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.css" rel="stylesheet">
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.css">
</head>

<body>
 <nav class="navbar navbar-dark bg-dark mb-4">
  <div class="container">
   <span class="navbar-brand mb-0 h1">
    <i class="fas fa-star me-2"></i>–ë–∞–∑–∞ –∑–Ω–∞–º–µ–Ω–∏—Ç–æ—Å—Ç–µ–π (–õ–æ–∫–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è)
   </span>
  </div>
 </nav>

 <div class="container">
  <div class="row">
   <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
   <div class="col-lg-5">
    <div class="add-form">
     <h4><i class="fas fa-plus-circle feature-icon"></i>–î–æ–±–∞–≤–∏—Ç—å –∑–Ω–∞–º–µ–Ω–∏—Ç–æ—Å—Ç—å</h4>

     <div class="mb-3">
      <label class="form-label">–ò–º—è *</label>
      <input type="text" class="form-control" id="celebName" required>
     </div>

     <div class="mb-3">
      <label class="form-label">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
      <input type="date" class="form-control" id="celebBirthDate">
      <div class="form-text">–í–æ–∑—Ä–∞—Å—Ç –∏ –∑–Ω–∞–∫ –∑–æ–¥–∏–∞–∫–∞ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</div>
     </div>

     <div class="mb-3 optional-field">
      <label class="form-label">–†–æ—Å—Ç (—Å–º)</label>
      <input type="number" class="form-control" id="celebHeight" placeholder="–ù–µ —É–∫–∞–∑–∞–Ω–æ">
     </div>

     <div class="mb-3">
      <label class="form-label">–¶–≤–µ—Ç –≤–æ–ª–æ—Å *</label>
      <select class="form-select" id="celebHairColor" multiple size="3" required>
       <option value="–±–ª–æ–Ω–¥–∏–Ω">–ë–ª–æ–Ω–¥–∏–Ω</option>
       <option value="–±—Ä—é–Ω–µ—Ç">–ë—Ä—é–Ω–µ—Ç</option>
       <option value="—Ä—ã–∂–∏–π">–†—ã–∂–∏–π</option>
       <option value="—à–∞—Ç–µ–Ω">–®–∞—Ç–µ–Ω</option>
       <option value="—Å–µ–¥–æ–π">–°–µ–¥–æ–π</option>
       <option value="–¥—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
      </select>
      <div class="form-text">–ó–∞–∂–º–∏—Ç–µ Ctrl –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤</div>
     </div>

     <!-- –î–û–ë–ê–í–õ–Ø–ï–ú –¶–í–ï–¢ –ì–õ–ê–ó -->
     <div class="mb-3">
      <label class="form-label">–¶–≤–µ—Ç –≥–ª–∞–∑</label>
      <select class="form-select" id="celebEyeColor" multiple size="4">
       <option value="–≥–æ–ª—É–±—ã–µ">üîµ –ì–æ–ª—É–±—ã–µ</option>
       <option value="–∑–µ–ª–µ–Ω—ã–µ">üü¢ –ó–µ–ª–µ–Ω—ã–µ</option>
       <option value="–∫–∞—Ä–∏–µ">üü§ –ö–∞—Ä–∏–µ</option>
       <option value="—Å–µ—Ä—ã–µ">‚ö™ –°–µ—Ä—ã–µ</option>
       <option value="—è–Ω—Ç–∞—Ä–Ω—ã–µ">üü† –Ø–Ω—Ç–∞—Ä–Ω—ã–µ</option>
       <option value="–æ—Ä–µ—Ö–æ–≤—ã–µ">üü§ –û—Ä–µ—Ö–æ–≤—ã–µ</option>
       <option value="—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–µ">üü£ –§–∏–æ–ª–µ—Ç–æ–≤—ã–µ</option>
       <option value="–∫—Ä–∞—Å–Ω—ã–µ">üî¥ –ö—Ä–∞—Å–Ω—ã–µ (–∞–ª—å–±–∏–Ω–∏–∑–º)</option>
       <option value="—á–µ—Ä–Ω—ã–µ">‚ö´ –ß–µ—Ä–Ω—ã–µ</option>
       <option value="–≥–µ—Ç–µ—Ä–æ—Ö—Ä–æ–º–∏—è">üëÅÔ∏è –ì–µ—Ç–µ—Ä–æ—Ö—Ä–æ–º–∏—è (—Ä–∞–∑–Ω—ã–µ –≥–ª–∞–∑–∞)</option>
       <option value="–¥—Ä—É–≥–æ–µ">‚ùì –î—Ä—É–≥–æ–π —Ü–≤–µ—Ç</option>
      </select>
      <div class="form-text">–ó–∞–∂–º–∏—Ç–µ Ctrl –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤. –î–ª—è –≥–µ—Ç–µ—Ä–æ—Ö—Ä–æ–º–∏–∏ —É–∫–∞–∂–∏—Ç–µ
       –æ–±–∞ —Ü–≤–µ—Ç–∞.</div>
      <div class="selected-eye-colors mt-2" id="selectedEyeColors"></div>
     </div>

     <div class="mb-3">
      <label class="form-label">–≠—Ç–Ω–∏—á–µ—Å–∫–∞—è –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å</label>
      <select class="form-select" id="celebEthnicity">
       <option value="">–ù–µ —É–∫–∞–∑–∞–Ω–æ</option>
       <option value="european">–ï–≤—Ä–æ–ø–µ–π—Å–∫–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ</option>
       <option value="east-asian">–í–æ—Å—Ç–æ—á–Ω–æ–∞–∑–∏–∞—Ç—Å–∫–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ</option>
       <option value="south-asian">–Æ–∂–Ω–æ–∞–∑–∏–∞—Ç—Å–∫–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ</option>
       <option value="african">–ê—Ñ—Ä–∏–∫–∞–Ω—Å–∫–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ</option>
       <option value="latin">–õ–∞—Ç–∏–Ω–æ–∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ</option>
       <option value="middle-eastern">–ë–ª–∏–∂–Ω–µ–≤–æ—Å—Ç–æ—á–Ω–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ</option>
       <option value="indigenous">–ö–æ—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Ä–æ–¥—ã –ê–º–µ—Ä–∏–∫–∏</option>
       <option value="pacific">–û–∫–µ–∞–Ω–∏–π—Å–∫–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ</option>
       <option value="mixed">–°–º–µ—à–∞–Ω–Ω–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ</option>
       <option value="other">–î—Ä—É–≥–æ–µ</option>
      </select>
     </div>

     <div class="mb-3">
      <label class="form-label">–ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ</label>
      <div class="country-search-container">
       <input type="text" class="form-control" id="countrySearch" placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã">
       <div class="country-dropdown" id="countryDropdown"></div>
      </div>
      <div class="selected-countries" id="selectedCountries"></div>
     </div>

     <div class="mb-3">
      <label class="form-label">–°—Ñ–µ—Ä–∞ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ *</label>
      <select class="form-select" id="celebOccupation" required>
       <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ñ–µ—Ä—É</option>
       <option value="–∞–∫—Ç–µ—Ä">–ê–∫—Ç–µ—Ä</option>
       <option value="–ø–µ–≤–µ—Ü">–ü–µ–≤–µ—Ü</option>
       <option value="—Å–ø–æ—Ä—Ç—Å–º–µ–Ω">–°–ø–æ—Ä—Ç—Å–º–µ–Ω</option>
       <option value="–º–æ–¥–µ–ª—å">–ú–æ–¥–µ–ª—å</option>
       <option value="–ø–æ–ª–∏—Ç–∏–∫">–ü–æ–ª–∏—Ç–∏–∫</option>
       <option value="–¥—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
      </select>
     </div>

     <div class="mb-3">
      <label class="form-label">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è</label>
      <input type="file" class="form-control" id="celebPhoto" accept=".jpg,.jpeg,.png,.webp">
      <img id="photoPreview" class="photo-preview">
     </div>

     <button class="btn btn-purple w-100" onclick="addCelebrity()">
      <i class="fas fa-plus me-1"></i> –î–æ–±–∞–≤–∏—Ç—å –∑–Ω–∞–º–µ–Ω–∏—Ç–æ—Å—Ç—å
     </button>
    </div>
   </div>

   <!-- –°–ø–∏—Å–æ–∫ –∑–Ω–∞–º–µ–Ω–∏—Ç–æ—Å—Ç–µ–π -->
   <div class="col-lg-7">
    <div class="filter-section">
     <h4><i class="fas fa-filter feature-icon"></i>–§–∏–ª—å—Ç—Ä—ã</h4>

     <div class="row filter-row">
      <div class="col-md-6 mb-3">
       <label class="form-label">–¶–≤–µ—Ç –≤–æ–ª–æ—Å</label>
       <select class="form-select" id="filterHairColor">
        <option value="">–í—Å–µ</option>
        <option value="–±–ª–æ–Ω–¥–∏–Ω">–ë–ª–æ–Ω–¥–∏–Ω</option>
        <option value="–±—Ä—é–Ω–µ—Ç">–ë—Ä—é–Ω–µ—Ç</option>
        <option value="—Ä—ã–∂–∏–π">–†—ã–∂–∏–π</option>
        <option value="—à–∞—Ç–µ–Ω">–®–∞—Ç–µ–Ω</option>
        <option value="—Å–µ–¥–æ–π">–°–µ–¥–æ–π</option>
        <option value="–¥—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
       </select>
      </div>
      <div class="col-md-6 mb-3">
       <label class="form-label">–°—Ñ–µ—Ä–∞ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</label>
       <select class="form-select" id="filterOccupation">
        <option value="">–í—Å–µ</option>
        <option value="–∞–∫—Ç–µ—Ä">–ê–∫—Ç–µ—Ä</option>
        <option value="–ø–µ–≤–µ—Ü">–ü–µ–≤–µ—Ü</option>
        <option value="—Å–ø–æ—Ä—Ç—Å–º–µ–Ω">–°–ø–æ—Ä—Ç—Å–º–µ–Ω</option>
        <option value="–º–æ–¥–µ–ª—å">–ú–æ–¥–µ–ª—å</option>
        <option value="–ø–æ–ª–∏—Ç–∏–∫">–ü–æ–ª–∏—Ç–∏–∫</option>
        <option value="–¥—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
       </select>
      </div>
     </div>

     <!-- –§–ò–õ–¨–¢–† –ü–û –¶–í–ï–¢–£ –ì–õ–ê–ó -->
     <div class="row filter-row">
      <div class="col-md-6 mb-3">
       <label class="form-label">–¶–≤–µ—Ç –≥–ª–∞–∑</label>
       <select class="form-select" id="filterEyeColor">
        <option value="">–í—Å–µ</option>
        <option value="–≥–æ–ª—É–±—ã–µ">–ì–æ–ª—É–±—ã–µ</option>
        <option value="–∑–µ–ª–µ–Ω—ã–µ">–ó–µ–ª–µ–Ω—ã–µ</option>
        <option value="–∫–∞—Ä–∏–µ">–ö–∞—Ä–∏–µ</option>
        <option value="—Å–µ—Ä—ã–µ">–°–µ—Ä—ã–µ</option>
        <option value="—è–Ω—Ç–∞—Ä–Ω—ã–µ">–Ø–Ω—Ç–∞—Ä–Ω—ã–µ</option>
        <option value="–æ—Ä–µ—Ö–æ–≤—ã–µ">–û—Ä–µ—Ö–æ–≤—ã–µ</option>
        <option value="—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–µ">–§–∏–æ–ª–µ—Ç–æ–≤—ã–µ</option>
        <option value="–∫—Ä–∞—Å–Ω—ã–µ">–ö—Ä–∞—Å–Ω—ã–µ</option>
        <option value="—á–µ—Ä–Ω—ã–µ">–ß–µ—Ä–Ω—ã–µ</option>
        <option value="–≥–µ—Ç–µ—Ä–æ—Ö—Ä–æ–º–∏—è">–ì–µ—Ç–µ—Ä–æ—Ö—Ä–æ–º–∏—è</option>
        <option value="–¥—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
       </select>
      </div>
      <div class="col-md-6 mb-3">
       <label class="form-label">–≠—Ç–Ω–∏—á–µ—Å–∫–∞—è –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å</label>
       <select class="form-select" id="filterEthnicity">
        <option value="">–í—Å–µ</option>
        <option value="european">–ï–≤—Ä–æ–ø–µ–π—Å–∫–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ</option>
        <option value="east-asian">–í–æ—Å—Ç–æ—á–Ω–æ–∞–∑–∏–∞—Ç—Å–∫–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ</option>
        <option value="south-asian">–Æ–∂–Ω–æ–∞–∑–∏–∞—Ç—Å–∫–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ</option>
        <option value="african">–ê—Ñ—Ä–∏–∫–∞–Ω—Å–∫–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ</option>
        <option value="latin">–õ–∞—Ç–∏–Ω–æ–∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ</option>
        <option value="middle-eastern">–ë–ª–∏–∂–Ω–µ–≤–æ—Å—Ç–æ—á–Ω–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ</option>
        <option value="indigenous">–ö–æ—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Ä–æ–¥—ã –ê–º–µ—Ä–∏–∫–∏</option>
        <option value="pacific">–û–∫–µ–∞–Ω–∏–π—Å–∫–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ</option>
        <option value="mixed">–°–º–µ—à–∞–Ω–Ω–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ</option>
        <option value="other">–î—Ä—É–≥–æ–µ</option>
       </select>
      </div>
     </div>

     <div class="row filter-row">
      <div class="col-md-6 mb-3">
       <label class="form-label">–ó–Ω–∞–∫ –∑–æ–¥–∏–∞–∫–∞</label>
       <select class="form-select" id="filterZodiac">
        <option value="">–í—Å–µ</option>
        <option value="–û–≤–µ–Ω">–û–≤–µ–Ω</option>
        <option value="–¢–µ–ª–µ—Ü">–¢–µ–ª–µ—Ü</option>
        <option value="–ë–ª–∏–∑–Ω–µ—Ü—ã">–ë–ª–∏–∑–Ω–µ—Ü—ã</option>
        <option value="–†–∞–∫">–†–∞–∫</option>
        <option value="–õ–µ–≤">–õ–µ–≤</option>
        <option value="–î–µ–≤–∞">–î–µ–≤–∞</option>
        <option value="–í–µ—Å—ã">–í–µ—Å—ã</option>
        <option value="–°–∫–æ—Ä–ø–∏–æ–Ω">–°–∫–æ—Ä–ø–∏–æ–Ω</option>
        <option value="–°—Ç—Ä–µ–ª–µ—Ü">–°—Ç—Ä–µ–ª–µ—Ü</option>
        <option value="–ö–æ–∑–µ—Ä–æ–≥">–ö–æ–∑–µ—Ä–æ–≥</option>
        <option value="–í–æ–¥–æ–ª–µ–π">–í–æ–¥–æ–ª–µ–π</option>
        <option value="–†—ã–±—ã">–†—ã–±—ã</option>
       </select>
      </div>
      <div class="col-md-6 mb-3">
       <label class="form-label">–ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ</label>
       <input type="text" class="form-control" id="filterCitizenship" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É">
      </div>
     </div>

     <div class="row filter-row">
      <div class="col-md-6 mb-3">
       <label class="form-label">–í–æ–∑—Ä–∞—Å—Ç –æ—Ç</label>
       <input type="number" class="form-control" id="filterAgeMin" placeholder="0" min="0" max="120">
      </div>
      <div class="col-md-6 mb-3">
       <label class="form-label">–í–æ–∑—Ä–∞—Å—Ç –¥–æ</label>
       <input type="number" class="form-control" id="filterAgeMax" placeholder="100" min="0" max="120">
      </div>
     </div>

     <div class="row filter-row">
      <div class="col-md-6 mb-3">
       <label class="form-label">–†–æ—Å—Ç –æ—Ç (—Å–º)</label>
       <input type="number" class="form-control" id="filterHeightMin" placeholder="0" min="50" max="250">
      </div>
      <div class="col-md-6 mb-3">
       <label class="form-label">–†–æ—Å—Ç –¥–æ (—Å–º)</label>
       <input type="number" class="form-control" id="filterHeightMax" placeholder="250" min="50" max="250">
      </div>
     </div>

     <div class="row filter-row">
      <div class="col-12 mb-3">
       <label class="form-label">–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏</label>
       <input type="text" class="form-control" id="filterName" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è">
      </div>
     </div>

     <button class="btn btn-primary w-100" onclick="applyFilters()">
      <i class="fas fa-filter me-1"></i> –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
     </button>
     <button class="btn btn-outline-secondary w-100 mt-2" onclick="resetFilters()">
      <i class="fas fa-times me-1"></i> –°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
     </button>
    </div>

    <div class="d-flex justify-content-between align-items-center mb-3">
     <h4><i class="fas fa-list feature-icon"></i>–ö–∞—Ç–∞–ª–æ–≥ –∑–Ω–∞–º–µ–Ω–∏—Ç–æ—Å—Ç–µ–π</h4>
     <span class="badge bg-primary" id="celebCount">0</span>
    </div>

    <div class="row" id="celebritiesList">
     <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
    </div>
   </div>
  </div>
 </div>

 <script>
  // ===== –ü–†–û–°–¢–û–ô –í–´–ë–û–† –°–¢–†–ê–ù =====
  const countries = [
   { name: "–†–æ—Å—Å–∏—è", flag: "üá∑üá∫" }, { name: "–°–®–ê", flag: "üá∫üá∏" },
   { name: "–ì–µ—Ä–º–∞–Ω–∏—è", flag: "üá©üá™" }, { name: "–§—Ä–∞–Ω—Ü–∏—è", flag: "üá´üá∑" },
   { name: "–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è", flag: "üá¨üáß" }, { name: "–ò—Ç–∞–ª–∏—è", flag: "üáÆüáπ" },
   { name: "–ò—Å–ø–∞–Ω–∏—è", flag: "üá™üá∏" }, { name: "–ö–∏—Ç–∞–π", flag: "üá®üá≥" },
   { name: "–Ø–ø–æ–Ω–∏—è", flag: "üáØüáµ" }, { name: "–¥—Ä—É–≥–æ–µ", flag: "üè≥Ô∏è" }
  ];

  let selectedCountries = [];
  let selectedEyeColors = [];

  // ===== –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò =====
  let celebrities = [];

  const zodiacSigns = [
   { name: "–ö–æ–∑–µ—Ä–æ–≥", start: [12, 22], end: [1, 19] },
   { name: "–í–æ–¥–æ–ª–µ–π", start: [1, 20], end: [2, 18] },
   { name: "–†—ã–±—ã", start: [2, 19], end: [3, 20] },
   { name: "–û–≤–µ–Ω", start: [3, 21], end: [4, 19] },
   { name: "–¢–µ–ª–µ—Ü", start: [4, 20], end: [5, 20] },
   { name: "–ë–ª–∏–∑–Ω–µ—Ü—ã", start: [5, 21], end: [6, 20] },
   { name: "–†–∞–∫", start: [6, 21], end: [7, 22] },
   { name: "–õ–µ–≤", start: [7, 23], end: [8, 22] },
   { name: "–î–µ–≤–∞", start: [8, 23], end: [9, 22] },
   { name: "–í–µ—Å—ã", start: [9, 23], end: [10, 22] },
   { name: "–°–∫–æ—Ä–ø–∏–æ–Ω", start: [10, 23], end: [11, 21] },
   { name: "–°—Ç—Ä–µ–ª–µ—Ü", start: [11, 22], end: [12, 21] }
  ];

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ DOM
  document.addEventListener('DOMContentLoaded', function () {
   console.log('DOM –∑–∞–≥—Ä—É–∂–µ–Ω, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º...');
   loadData();
   setupEventListeners();
   setupCountrySearch();
  });

  // –ù–ê–°–¢–†–û–ô–ö–ê –ü–û–ò–°–ö–ê –°–¢–†–ê–ù (–í–ï–†–ù–£–õ–ò –†–ê–ë–û–ß–£–Æ –í–ï–†–°–ò–Æ)
  function setupCountrySearch() {
   const searchInput = document.getElementById('countrySearch');
   const dropdown = document.getElementById('countryDropdown');

   if (!searchInput || !dropdown) {
    console.log('–≠–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å—Ç—Ä–∞–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω—ã, –ø—Ä–æ–±—É–µ–º —Å–Ω–æ–≤–∞ —á–µ—Ä–µ–∑ 100–º—Å...');
    setTimeout(setupCountrySearch, 100);
    return;
   }

   console.log('–≠–ª–µ–º–µ–Ω—Ç—ã –Ω–∞–π–¥–µ–Ω—ã, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–æ–∏—Å–∫ —Å—Ç—Ä–∞–Ω...');

   // –ü–æ–∫–∞–∑ dropdown –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ
   searchInput.addEventListener('focus', function () {
    showCountryDropdown('');
   });

   // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏ –≤–≤–æ–¥–µ
   searchInput.addEventListener('input', function () {
    showCountryDropdown(this.value);
   });

   // –ó–∞–∫—Ä—ã—Ç–∏–µ dropdown –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
   document.addEventListener('click', function (e) {
    if (!dropdown.contains(e.target) && e.target !== searchInput) {
     dropdown.style.display = 'none';
    }
   });

   updateSelectedCountries();
  }

  function showCountryDropdown(filter) {
   const dropdown = document.getElementById('countryDropdown');
   if (!dropdown) return;

   dropdown.innerHTML = '';

   const filteredCountries = countries.filter(country =>
    country.name.toLowerCase().includes(filter.toLowerCase()) &&
    !selectedCountries.includes(country.name)
   );

   if (filteredCountries.length === 0) {
    dropdown.innerHTML = '<div class="country-item">–°—Ç—Ä–∞–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞</div>';
    dropdown.style.display = 'block';
    return;
   }

   filteredCountries.forEach(country => {
    const div = document.createElement('div');
    div.className = 'country-item';
    div.innerHTML = `${country.flag} ${country.name}`;
    div.onclick = () => selectCountry(country);
    dropdown.appendChild(div);
   });

   dropdown.style.display = 'block';
  }

  function selectCountry(country) {
   if (!selectedCountries.includes(country.name)) {
    selectedCountries.push(country.name);
    updateSelectedCountries();
   }
   document.getElementById('countrySearch').value = '';
   document.getElementById('countryDropdown').style.display = 'none';
  }

  function updateSelectedCountries() {
   const container = document.getElementById('selectedCountries');
   if (!container) return;

   container.innerHTML = '';

   if (selectedCountries.length === 0) {
    container.innerHTML = '<span class="text-muted">–í—ã–±—Ä–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω—ã –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å...</span>';
    return;
   }

   selectedCountries.forEach(countryName => {
    const country = countries.find(c => c.name === countryName);
    const badge = document.createElement('span');
    badge.className = 'badge bg-primary me-1 mb-1';
    badge.innerHTML = `${country ? country.flag : 'üè≥Ô∏è'} ${countryName} 
                    <span style="cursor:pointer; margin-left:5px;" onclick="removeCountry('${countryName}')">√ó</span>`;
    container.appendChild(badge);
   });
  }

  function removeCountry(countryName) {
   selectedCountries = selectedCountries.filter(c => c !== countryName);
   updateSelectedCountries();
  }

  // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ü–≤–µ—Ç–∞ –≥–ª–∞–∑
  function updateSelectedEyeColors() {
   selectedEyeColors = Array.from(document.getElementById('celebEyeColor').selectedOptions)
    .map(opt => opt.value);

   const container = document.getElementById('selectedEyeColors');
   if (!container) return;

   container.innerHTML = '';

   if (selectedEyeColors.length === 0) {
    container.innerHTML = '<span class="text-muted">–¶–≤–µ—Ç–∞ –≥–ª–∞–∑ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å...</span>';
    return;
   }

   selectedEyeColors.forEach(color => {
    const badge = document.createElement('span');
    badge.className = 'badge eye-color-badge bg-light text-dark me-1 mb-1';
    badge.innerHTML = `${getEyeColorEmoji(color)} ${getEyeColorLabel(color)} 
                    <span style="cursor:pointer; margin-left:5px;" onclick="removeEyeColor('${color}')">√ó</span>`;
    container.appendChild(badge);
   });
  }

  function getEyeColorEmoji(color) {
   const emojis = {
    '–≥–æ–ª—É–±—ã–µ': 'üîµ',
    '–∑–µ–ª–µ–Ω—ã–µ': 'üü¢',
    '–∫–∞—Ä–∏–µ': 'üü§',
    '—Å–µ—Ä—ã–µ': '‚ö™',
    '—è–Ω—Ç–∞—Ä–Ω—ã–µ': 'üü†',
    '–æ—Ä–µ—Ö–æ–≤—ã–µ': 'üü§',
    '—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–µ': 'üü£',
    '–∫—Ä–∞—Å–Ω—ã–µ': 'üî¥',
    '—á–µ—Ä–Ω—ã–µ': '‚ö´',
    '–≥–µ—Ç–µ—Ä–æ—Ö—Ä–æ–º–∏—è': 'üëÅÔ∏è',
    '–¥—Ä—É–≥–æ–µ': '‚ùì'
   };
   return emojis[color] || 'üëÅÔ∏è';
  }

  function getEyeColorLabel(color) {
   const labels = {
    '–≥–æ–ª—É–±—ã–µ': '–ì–æ–ª—É–±—ã–µ',
    '–∑–µ–ª–µ–Ω—ã–µ': '–ó–µ–ª–µ–Ω—ã–µ',
    '–∫–∞—Ä–∏–µ': '–ö–∞—Ä–∏–µ',
    '—Å–µ—Ä—ã–µ': '–°–µ—Ä—ã–µ',
    '—è–Ω—Ç–∞—Ä–Ω—ã–µ': '–Ø–Ω—Ç–∞—Ä–Ω—ã–µ',
    '–æ—Ä–µ—Ö–æ–≤—ã–µ': '–û—Ä–µ—Ö–æ–≤—ã–µ',
    '—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–µ': '–§–∏–æ–ª–µ—Ç–æ–≤—ã–µ',
    '–∫—Ä–∞—Å–Ω—ã–µ': '–ö—Ä–∞—Å–Ω—ã–µ',
    '—á–µ—Ä–Ω—ã–µ': '–ß–µ—Ä–Ω—ã–µ',
    '–≥–µ—Ç–µ—Ä–æ—Ö—Ä–æ–º–∏—è': '–ì–µ—Ç–µ—Ä–æ—Ö—Ä–æ–º–∏—è',
    '–¥—Ä—É–≥–æ–µ': '–î—Ä—É–≥–æ–π'
   };
   return labels[color] || color;
  }

  function removeEyeColor(color) {
   const select = document.getElementById('celebEyeColor');
   const options = select.options;

   for (let i = 0; i < options.length; i++) {
    if (options[i].value === color) {
     options[i].selected = false;
     break;
    }
   }

   updateSelectedEyeColors();
  }

  // –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
  function loadData() {
   const savedData = localStorage.getItem('celebritiesData');
   if (savedData) {
    celebrities = JSON.parse(savedData);
   }
   renderCelebrities();
  }

  function saveData() {
   localStorage.setItem('celebritiesData', JSON.stringify(celebrities));
   updateCount();
  }

  function updateCount() {
   const countElement = document.getElementById('celebCount');
   if (countElement) {
    countElement.textContent = celebrities.length;
   }
  }

  function setupEventListeners() {
   const photoInput = document.getElementById('celebPhoto');
   if (photoInput) {
    photoInput.addEventListener('change', function (e) {
     const file = e.target.files[0];
     if (file) {
      const reader = new FileReader();
      reader.onload = function (e) {
       const preview = document.getElementById('photoPreview');
       preview.src = e.target.result;
       preview.style.display = 'block';
      };
      reader.readAsDataURL(file);
     }
    });
   }

   // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è —Ü–≤–µ—Ç–∞ –≥–ª–∞–∑
   const eyeColorSelect = document.getElementById('celebEyeColor');
   if (eyeColorSelect) {
    eyeColorSelect.addEventListener('change', function () {
     updateSelectedEyeColors();
    });
   }
  }

  function getZodiacSign(birthDate) {
   if (!birthDate) return null;

   const date = new Date(birthDate);
   const day = date.getDate();
   const month = date.getMonth() + 1;

   for (const sign of zodiacSigns) {
    const [startMonth, startDay] = sign.start;
    const [endMonth, endDay] = sign.end;

    if ((month === startMonth && day >= startDay) ||
     (month === endMonth && day <= endDay)) {
     return sign.name;
    }
   }

   return "–ö–æ–∑–µ—Ä–æ–≥";
  }

  function calculateAge(birthDate) {
   if (!birthDate) return null;

   const today = new Date();
   const birth = new Date(birthDate);
   let age = today.getFullYear() - birth.getFullYear();

   const monthDiff = today.getMonth() - birth.getMonth();
   if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birth.getDate())) {
    age--;
   }

   return age;
  }

  function addCelebrity() {
   const name = document.getElementById('celebName').value;
   const birthDate = document.getElementById('celebBirthDate').value;
   const height = document.getElementById('celebHeight').value;
   const hairColor = Array.from(document.getElementById('celebHairColor').selectedOptions)
    .map(opt => opt.value);
   const eyeColor = selectedEyeColors;
   const ethnicity = document.getElementById('celebEthnicity').value;
   const occupation = document.getElementById('celebOccupation').value;
   const photoFile = document.getElementById('celebPhoto').files[0];

   if (!name || hairColor.length === 0 || !occupation) {
    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (–∏–º—è, —Ü–≤–µ—Ç –≤–æ–ª–æ—Å, —Å—Ñ–µ—Ä–∞ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)');
    return;
   }

   let photoData = null;
   if (photoFile) {
    const reader = new FileReader();
    reader.onload = function (e) {
     photoData = e.target.result;
     completeAdding();
    };
    reader.readAsDataURL(photoFile);
   } else {
    completeAdding();
   }

   function completeAdding() {
    const age = calculateAge(birthDate);
    const zodiac = getZodiacSign(birthDate);

    const newCelebrity = {
     id: Date.now(),
     name: name,
     birthDate: birthDate,
     age: age,
     height: height || null,
     hairColor: hairColor,
     eyeColor: eyeColor,
     ethnicity: ethnicity || null,
     citizenship: [...selectedCountries],
     occupation: occupation,
     zodiac: zodiac,
     photo: photoData || `https://via.placeholder.com/300x200/6c757d/ffffff?text=${encodeURIComponent(name)}`,
     createdAt: new Date().toISOString()
    };

    celebrities.push(newCelebrity);
    saveData();
    renderCelebrities();
    resetForm();

    alert('–ó–Ω–∞–º–µ–Ω–∏—Ç–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∞!');
   }
  }

  function resetForm() {
   document.getElementById('celebName').value = '';
   document.getElementById('celebBirthDate').value = '';
   document.getElementById('celebHeight').value = '';
   document.getElementById('celebHairColor').selectedIndex = -1;
   document.getElementById('celebEyeColor').selectedIndex = -1;
   document.getElementById('celebEthnicity').value = '';
   document.getElementById('celebOccupation').value = '';
   document.getElementById('celebPhoto').value = '';
   document.getElementById('photoPreview').style.display = 'none';
   document.getElementById('countrySearch').value = '';
   selectedCountries = [];
   selectedEyeColors = [];
   updateSelectedCountries();
   updateSelectedEyeColors();
  }

  function resetFilters() {
   document.getElementById('filterHairColor').value = '';
   document.getElementById('filterOccupation').value = '';
   document.getElementById('filterEyeColor').value = '';
   document.getElementById('filterEthnicity').value = '';
   document.getElementById('filterZodiac').value = '';
   document.getElementById('filterCitizenship').value = '';
   document.getElementById('filterAgeMin').value = '';
   document.getElementById('filterAgeMax').value = '';
   document.getElementById('filterHeightMin').value = '';
   document.getElementById('filterHeightMax').value = '';
   document.getElementById('filterName').value = '';

   renderCelebrities();
  }

  function applyFilters() {
   const hairColor = document.getElementById('filterHairColor').value;
   const occupation = document.getElementById('filterOccupation').value;
   const eyeColor = document.getElementById('filterEyeColor').value;
   const ethnicity = document.getElementById('filterEthnicity').value;
   const zodiac = document.getElementById('filterZodiac').value;
   const citizenship = document.getElementById('filterCitizenship').value.toLowerCase();
   const ageMin = parseInt(document.getElementById('filterAgeMin').value) || 0;
   const ageMax = parseInt(document.getElementById('filterAgeMax').value) || 100;
   const heightMin = parseInt(document.getElementById('filterHeightMin').value) || 0;
   const heightMax = parseInt(document.getElementById('filterHeightMax').value) || 250;
   const nameFilter = document.getElementById('filterName').value.toLowerCase();

   let filtered = celebrities.filter(celeb => {
    return (!hairColor || celeb.hairColor.includes(hairColor)) &&
     (!occupation || celeb.occupation === occupation) &&
     (!eyeColor || (celeb.eyeColor && celeb.eyeColor.includes(eyeColor))) &&
     (!ethnicity || celeb.ethnicity === ethnicity) &&
     (!zodiac || celeb.zodiac === zodiac) &&
     (!citizenship || (celeb.citizenship && celeb.citizenship.some(c => c.toLowerCase().includes(citizenship)))) &&
     (!celeb.age || (celeb.age >= ageMin && celeb.age <= ageMax)) &&
     (!celeb.height || (celeb.height >= heightMin && celeb.height <= heightMax)) &&
     (!nameFilter || celeb.name.toLowerCase().includes(nameFilter));
   });

   renderFilteredCelebrities(filtered);
  }

  function renderCelebrities() {
   renderFilteredCelebrities(celebrities);
  }

  function renderFilteredCelebrities(data) {
   const container = document.getElementById('celebritiesList');
   container.innerHTML = '';
   updateCount();

   if (data.length === 0) {
    container.innerHTML = `
                    <div class="col-12 text-center py-5">
                        <i class="fas fa-search fa-3x mb-3 text-muted"></i>
                        <h5 class="text-muted">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</h5>
                        <p class="text-muted">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏</p>
                    </div>
                `;
    return;
   }

   data.forEach(celeb => {
    const card = document.createElement('div');
    card.className = 'col-md-6 mb-4';
    card.innerHTML = `
                    <div class="card">
                        <img src="${celeb.photo}" class="celebrity-img" alt="${celeb.name}">
                        <div class="card-body">
                            <h5 class="card-title">${celeb.name}</h5>
                            
                            <div class="mb-2">
                                ${celeb.age ? `<span class="badge bg-primary">${celeb.age} –ª–µ—Ç</span>` : ''}
                                ${celeb.zodiac ? `<span class="badge bg-info">${celeb.zodiac}</span>` : ''}
                                ${celeb.height ? `<span class="badge bg-secondary">${celeb.height} —Å–º</span>` : ''}
                            </div>
                            
                            <div class="mb-2">
                                ${celeb.hairColor.map(color => `<span class="badge bg-purple">${color}</span>`).join('')}
                                <span class="badge bg-success">${celeb.occupation}</span>
                            </div>
                            
                            ${celeb.eyeColor && celeb.eyeColor.length > 0 ?
      `<div class="mb-2">
                                    <span class="badge bg-info">üëÅÔ∏è ${celeb.eyeColor.map(getEyeColorLabel).join(', ')}</span>
                                </div>` : ''}
                            
                            ${celeb.ethnicity ? `<div class="mb-1"><small>–ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ: ${getEthnicityLabel(celeb.ethnicity)}</small></div>` : ''}
                            ${celeb.citizenship && celeb.citizenship.length > 0 ?
      `<div class="mb-1"><small>–ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ: ${celeb.citizenship.map(c => {
       const country = countries.find(cnt => cnt.name === c);
       return (country ? country.flag + ' ' : '') + c;
      }).join(', ')}</small></div>` : ''}
                        </div>
                    </div>
                `;
    container.appendChild(card);
   });
  }

  function getEthnicityLabel(value) {
   const labels = {
    'european': '–ï–≤—Ä–æ–ø–µ–π—Å–∫–æ–µ',
    'east-asian': '–í–æ—Å—Ç–æ—á–Ω–æ–∞–∑–∏–∞—Ç—Å–∫–æ–µ',
    'south-asian': '–Æ–∂–Ω–æ–∞–∑–∏–∞—Ç—Å–∫–æ–µ',
    'african': '–ê—Ñ—Ä–∏–∫–∞–Ω—Å–∫–æ–µ',
    'latin': '–õ–∞—Ç–∏–Ω–æ–∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–æ–µ',
    'middle-eastern': '–ë–ª–∏–∂–Ω–µ–≤–æ—Å—Ç–æ—á–Ω–æ–µ',
    'indigenous': '–ö–æ—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Ä–æ–¥—ã –ê–º–µ—Ä–∏–∫–∏',
    'pacific': '–û–∫–µ–∞–Ω–∏–π—Å–∫–æ–µ',
    'mixed': '–°–º–µ—à–∞–Ω–Ω–æ–µ',
    'other': '–î—Ä—É–≥–æ–µ'
   };
   return labels[value] || value;
  }
 </script>
</body>

</html>